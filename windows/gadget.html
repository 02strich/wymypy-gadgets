<html>
<head>
    <title>WyMyPy Control</title>
    <style>
        body
        {
            margin: 0;
            width: 134px;
            height: 50px;
        }
        
		#gadgetMainFrame
        {
            width: 100%;
            top: 2px;
            
            font-family: Tahoma;
            font-size: 12pt;
            position: absolute;
			color: #e4e4e4;
        }
		
		#command_bar {
			position:relative;top:2px;text-align:center;
		}
    </style>
	
	<script type="text/javascript" src="jquery-1.6.4.js"></script>
	<script type="text/javascript">
		System.Gadget.settingsUI = "settings.html";
		System.Gadget.onSettingsClosed = settingsClosed;
		$.support.cors = true;
		
		// react to closing of settings dialog
		function settingsClosed(event) {
			if (event.closeAction == event.Action.commit) {
				// nothing to refresh
			}
		}
		
		// change a IMG source
		function changeIMG(imagesource, imagename) {
			document.getElementById(imagesource).src= "imgs/" + imagename;
		}
		
		// parse gadgets settings
		function getWyMyPyURL() {
			var_wymypy_url = System.Gadget.Settings.read("settings_wymypy_url");
			if(var_wymypy_url == "") {
				var_wymypy_url = "http://musik.demo.local";
			}	
			return var_wymypy_url + "/__ajax/Player/ope";
		}
		
		// do real stuff
		function tell_wymypy(exec) {
			System.Debug.outputString(getWyMyPyURL());
			$.post(
				getWyMyPyURL(),
				{p0: exec});
		}
	</script>
</head>
<body ondragenter="event.returnValue = false" ondragover="event.returnValue = false">
	<g:background src="imgs/bg_main.png" style="position:absolute; width:134px; height:30px; z-index:-1"/>	
	<br><br>
	<div id="gadgetMainFrame">
		<div id="command_bar">
			<img
				id="button_prev" title="Previous" src="imgs/prev.png" 
				onMouseOver = "javascript:changeIMG('button_prev','prev_over.png')"
				onMouseOut  = "changeIMG('button_prev','prev.png')"
				onMouseDown = "changeIMG('button_prev','prev_down.png')"
				onMouseUp   = "changeIMG('button_prev','prev.png')"
				onClick = "tell_wymypy('prev')"
			/><img
				id="button_play" title="Play" src="imgs/play.png" 
				onMouseOver = "changeIMG('button_play','play_over.png')"
				onMouseOut  = "changeIMG('button_play','play.png')"
				onMouseDown = "changeIMG('button_play','play_down.png')"
				onMouseUp   = "changeIMG('button_play','play.png')"
				onClick = "tell_wymypy('play')"
			/><img
				id="button_pause" title="Pause" src="imgs/pause.png" 
				onMouseOver = "changeIMG('button_pause','pause_over.png')"
				onMouseOut  = "changeIMG('button_pause','pause.png')"
				onMouseDown = "changeIMG('button_pause','pause_down.png')"
				onMouseUp   = "changeIMG('button_pause','pause.png')"
				onClick = "tell_wymypy('pause')"
			/><img
				id="button_stop" title="Stop" src="imgs/stop.png" 
				onMouseOver = "changeIMG('button_stop','stop_over.png')"
				onMouseOut  = "changeIMG('button_stop','stop.png')"
				onMouseDown = "changeIMG('button_stop','stop_down.png')"
				onMouseUp   = "changeIMG('button_stop','stop.png')"
				onClick = "tell_wymypy('stop')"
			/><img
				id="button_next" title="Next" src="imgs/next.png" 
				onMouseOver = "changeIMG('button_next','next_over.png')"
				onMouseOut  = "changeIMG('button_next','next.png')"
				onMouseDown = "changeIMG('button_next','next_down.png')"
				onMouseUp   = "changeIMG('button_next','next.png')"
				onClick = "tell_wymypy('next')"
			/>
	</div>
</div>
</body>
</html>

